<head>
<link rel="stylesheet" type="text/css" href="qrc:///StyleSheets/Help/general.css">
<meta charset="UTF-8">
</head>
<body>
	<p>The <strong>Analog Comparator (ACMP)</strong> compares two voltages and outputs a digital signal indicating which is larger. It has two analog input terminals, IN+ and IN-, and one digital output OUT.</p>

	<h4>Activation</h4><hr>

	<p>In order for the ACMP cell to be used in a GreenPAK design, the power up signal (PWR UP) needs to be active (HIGH). It is possible to have each ACMP always on, always off, or switched on dynamically based on a digital signal from the connection matrix.</p>

	<h4>Parameters</h4><hr>

	<p><em><strong>Table 1.</strong></em>
	<table border="1" style="border-color: #808080; border-width: 1px;" cellspacing="0" cellpadding="5">
		<tr>
			<th>Parameters    </th>
			<th>ACMP0                </th>
			<th>ACMP1            </th>
		</tr>
		<tr>
			<td style="text-align:center;" rowspan="4">IN+ source  </td>
			<td style="text-align:center;">PIN3                 </td>
			<td style="text-align:center;">PIN4             </td>
		</tr>
		<tr>
			<td style="text-align:center;">PIN4                 </td>
			<td style="text-align:center;">PIN4/2           </td>
		</tr>
		<tr>
			<td style="text-align:center;">ADC PGA in (PIN8 out)</td>
			<td style="text-align:center;">                 </td>
		</tr>
		<tr>
			<td style="text-align:center;">ADC PGA out          </td>
			<td style="text-align:center;">                 </td>
		</tr>
		<tr>
			<td style="text-align:center;" rowspan="6">IN- source  </td>
			<td style="text-align:center;">30mV  or 50mV        </td>
			<td style="text-align:center;">30mV  or 50mV    </td>
		</tr>
		<tr>
			<td style="text-align:center;">…                    </td>
			<td style="text-align:center;">…                </td>
		</tr>
		<tr>
			<td style="text-align:center;">1000mV or 1500mV     </td>
			<td style="text-align:center;">1000mV or 1500mV </td>
		</tr>
		<tr>
			<td style="text-align:center;">PIN11                </td>
			<td style="text-align:center;">PIN11            </td>
		</tr>
		<tr>
			<td style="text-align:center;">                     </td>
			<td style="text-align:center;">ADC DAC out      </td>
		</tr>
		<tr>
			<td style="text-align:center;">                     </td>
			<td style="text-align:center;">FSM DAC out      </td>
		</tr>
	</table></p>

	<h3>1uA pullup on input:</h3>

	<p style="margin-left:2em;"><strong>1uA pullup on input</strong> option has 2 configurations: <strong>Enable</strong> and <strong>Disable</strong> (default option). Enabling this will connect the internal 1uA pull up. This setting is ideal for sensing small analog currents.</p>

	<h3>Hysteresis:</h3>

	<p style="margin-left:2em;">Each ACMP has four selectable hysteresis options 0mV, 12mV, 50mV and 150mV. Hysteresis values have been tested to show variations over PVT.</p>

<p>
	<p class = "li1">• <strong>0mV</strong>: will disable the input signal hysteresis;</p>
	<p class = "li1">• <strong>12mV</strong>: is a +6mV and -6mV hysteresis;</p>
	<p class = "li1">• <strong>50mV</strong>: is a +0mV and -50mV Hysteresis. For Vref=1V, the trigger points will be 1V and 0.95V. Only applies if Vref is internal;</p>
	<p class = "li1">• <strong>150mV</strong>: is a +0mV and -150mV hysteresis. For Vref=1V, the trigger points will be 1V and 0.85V. Only applies if Vref is internal;</p><br />
</p>

	<h3>Low bandwidth:</h3>

	<p style="margin-left:2em;">Enable/Disable a low pass filter, cutoff frequency &lt;&lt; 5kHz, to IN+. Not to be confused with the Speed parameter and is much lower than Normal speed.</p>

	<h3>ACMP VREF band:</h3>

	<p style="margin-left:2em;">There are two selectable VREF bands. This will change the available thresholds in the IN- voltage parameter. Both options could be used for the VDD &gt; 3.3V. For the VDD values less than 3.3V only 30mv-1V option operates correctly.</p>

<p>
	<p class = "li1">• <strong>50 mV &#8211; 1.5 V</strong></p>
	<p class = "li1">• <strong>30mV &#8211; 1V</strong></p><br />
</p>

	<h3>IN- voltage:</h3>

	<p style="margin-left:2em;">Negative Analog input source to ACMP. Values change depending on VREF Band selection. <br />
For External (PIN11), do not exceed 1.5V external reference value. For bigger external references ACMPs will operate incorrectly.</p>

	<h3>ACMP0 IN+ source:</h3>

	<p style="margin-left:2em;">Positive Analog input source to ACMP0 only.</p>

	<h3>ACMP1 0.5 gain to IN+:</h3>

	<p style="margin-left:2em;">The IN+ source could have a gain stage of 0.5x before connection to the analog comparator.</p>

	<h3>ACMP1 IN- source:</h3>

	<p style="margin-left:2em;">Chose whether to use the IN- voltage as the IN- source or the DAC. </p>

	<h3>DAC input source:</h3>

	<p style="margin-left:2em;">If the above IN- source was chosen as the DAC, then use this property to select the source to the DAC. Either the ADC or FSM are valid DAC outputs. If ADC is chosen, then the output of the ADC is converted to an Analog signal as the IN- source. If the FSM is chosen, then the 8-bit counter data is converted to an Analog signal as the IN- source.</p>

	<h3>NOTE:</h3>

	<p style="margin-left:2em;">Due to GreenPAK2&#8217;s internal structure this feature only operates correctly at VDD=1.8V.</p>

	<h3>NOTE:</h3>

	<p style="margin-left:2em;">Use different POR options for ACMPs correct operation:</p>

<p>
	<p class = "li1">• <strong>Use auto power detect POR setting if VDD will change and can be less than or greater than 2.7 V</strong>;</p>
	<p class = "li1">• <strong>Use VDD bypass to analog blocks POR setting if VDD will be in range 1.71V-2.7V</strong>;</p>
	<p class = "li1">• <strong>Use regulator always on POR setting if VDD will be in range 2.7V-5.5V</strong>;</p><br />
</p>
</body>